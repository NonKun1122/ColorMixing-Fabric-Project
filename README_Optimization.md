# แนวทางการลดการใช้ RAM สำหรับ Minecraft 1.21+

จากการวิเคราะห์ Log และโครงสร้างโปรเจกต์ พบว่า Minecraft 1.21 มีการใช้ทรัพยากรสูงขึ้นเนื่องจากระบบ Data-driven ที่ซับซ้อนขึ้น นี่คือวิธีปรับแต่งให้ Mod ของคุณกินแรมน้อยลงครับ:

### 1. การปรับแต่ง JVM Arguments (สำคัญที่สุด)
หากคุณรัน Minecraft ผ่าน Launcher (เช่น PojavLauncher หรือ Prism) ให้ปรับค่า JVM ดังนี้:
- **ลด Xmx**: หากเครื่องมีแรมน้อย ให้ตั้งค่า `-Xmx1G` หรือ `-Xmx1536M` ก็เพียงพอสำหรับ Mod ที่มีแค่ Recipes
- **ใช้ Garbage Collector ที่มีประสิทธิภาพ**: เพิ่ม `-XX:+UseG1GC -XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=32M`

### 2. การปรับแต่งในตัว Mod (colormix)
- **ลบ Assets ที่ไม่จำเป็น**: ใน Log พบว่ามีการเรียกหา `icon.png` แต่ไฟล์หายไป การที่เกมพยายามหาไฟล์ที่ไม่มีอยู่ซ้ำๆ อาจทำให้เกิด Overhead ได้ ผมได้ลบการอ้างอิงนี้ออกให้แล้ว
- **ใช้ระบบ Recipe แบบประหยัด**: สูตรผสมสีใน Mod นี้เป็นแบบ `crafting_shapeless` ซึ่งกินแรมน้อยมากอยู่แล้ว แต่การมีไฟล์ JSON จำนวนมากอาจทำให้ช่วงโหลดเกมช้าลงเล็กน้อย

### 3. Mod เสริมเพื่อลดการใช้ RAM (แนะนำให้ติดตั้งเพิ่ม)
แนะนำให้ใส่ Mod เหล่านี้ในโฟลเดอร์ `mods` ของคุณเพื่อช่วยจัดการแรมใน 1.21:
- **FerriteCore**: ลดการใช้หน่วยความจำของโมเดลและข้อมูลในเกม (ลดได้เยอะมาก)
- **ModernFix**: แก้ไขปัญหาการกินแรมและเพิ่มความเร็วในการโหลด
- **MemoryLeakFix**: ป้องกันปัญหาแรมรั่วในระยะยาว
- **Lithium**: เพิ่มประสิทธิภาพระบบฟิสิกส์และ AI (ช่วยลดภาระ CPU/RAM)

### 4. การปรับแต่งในไฟล์โปรเจกต์
ผมได้ปรับ `gradle.properties` ให้ใช้แรมในการ Build เพียง **1GB** (จากเดิม 2GB) เพื่อให้คุณสามารถ Build ในสภาพแวดล้อมที่มีทรัพยากรจำกัดได้ครับ
